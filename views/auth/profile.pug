extends ../layouts/layout.pug
block content
    .container
      .row.justify-content-center
        .col-md-10
          .card
            .card-header Profile
            .card-body
              form(method='POST' action='/user/profile' enctype='multipart/form-data')
                .form-group.col-6.m-auto
                  label.d-block.offers-view.text-center.m-auto.rounded-circle(for='avatar-input' style="width:15rem;height:15rem")
                    if user.avatar
                      img#avatarImage.h-100.d-block.img-thumbnail.w-100.rounded-circle(src=`${user.avatar}` alt='avatar')
                    else
                      img#avatarImage.h-100.d-block.img-thumbnail.w-100.rounded-circle(src='/images/default_avatar.png' alt='avatar')
                  .col-sm-0.text-center
                    input#avatar-input.d-none.form-control.is-invalid(type='file' name='avatar' accept=".jpg,.jpeg,.png" onchange="loadAndDisplay('avatarImage')")
                    span.invalid-feedback(role='alert')
                      strong
                .form-group.row
                  label.col-md-4.col-form-label.text-md-right(for='name') Name
                  .col-md-6
                    input#name-input.form-control(type='text' name='name' value=`${user.name}` required='' autocomplete='name' autofocus='')
                    span.invalid-feedback(role='alert')
                      strong
                .form-group.row
                  label.col-md-4.col-form-label.text-md-right(for='username') Username
                  .col-md-6
                    input#username-input.form-control(type='text' name='username' value=`${user.username}` required='' autocomplete='username')
                    span.invalid-feedback(role='alert')
                      strong
                .form-group.row
                  label.col-md-4.col-form-label.text-md-right(for='password') Current Password
                  .col-md-6
                    input#password-input.form-control(type='password' name='password' required='' autocomplete='new-password')
                    span.invalid-feedback(role='alert')
                      strong
                .form-group.row
                  .col-md-6.offset-md-4
                    .form-submit.btn.btn-primary
                      | Update
                .form-group.row
                  .col-md-6.offset-md-4
                    a(href='/user/updatePassword') Update Passowrd ?
                .form-group.row
                  .col-md-6.offset-md-4
                    a(href='/user/deleteUser') Delete Account ?
                .form-group.row.mb-0
                  col-md-8.m-auto
                    label#attempts-input.form-check-label(for='remember')
                      span.invalid-feedback(role='alert')
                        strong
